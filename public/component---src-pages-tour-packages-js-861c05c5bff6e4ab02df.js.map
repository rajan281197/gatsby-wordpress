{"version":3,"file":"component---src-pages-tour-packages-js-861c05c5bff6e4ab02df.js","mappings":"gOASQA,EAAWC,EAAAA,EAAAA,OAwPnB,UAtPqB,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAEtB,GAA6BC,EAAAA,EAAAA,UAASD,EAAKE,iBAAiBC,OAArDC,EAAP,KAAgBC,EAAhB,KACA,GAAoCJ,EAAAA,EAAAA,UAAS,GAAtCK,EAAP,KAAmBC,EAAnB,KACA,GAAsCN,EAAAA,EAAAA,UAAS,IAAxCO,EAAP,KAAoBC,EAApB,KAoDMC,EAAYC,KAAKC,KAAKZ,EAAKE,iBAAiBC,MAAMU,OAFpC,GASdC,EATc,EASAR,EAEdS,EAAQX,EAAQS,QAEtBG,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,IAAIC,IAAIlB,EAAKE,iBAAiBC,MAAMgB,KAAI,SAACC,GAAD,OAAOA,EAAEC,mBAAmBC,aAEnFb,GAAe,OAAIQ,MAClB,CAACjB,EAAKE,iBAAiBC,QAE1B,IAAMoB,EAAenB,EAClBoB,MAAMV,EAAaA,EApBF,GAoB6BK,KAAI,SAAAM,GAAQ,OACzD,uBAAKC,UAAU,uBACb,uBAAKA,UAAU,aAAaC,IAAKF,EAASG,IACxC,uBAAKF,UAAU,gBACb,uBAAKA,UAAU,aACb,gBAAC,IAAD,CAAOG,IAAKJ,EAASK,cAAcC,KAAKC,cAI5C,uBAAKN,UAAU,aACb,uBAAKA,UAAU,YACb,uBAAKA,UAAU,YACb,wBAAMA,UAAU,YAAhB,cACA,wBAAMA,UAAU,WAAWD,EAASJ,mBAAmBY,MAEzD,uBAAKP,UAAU,aAAaD,EAASJ,mBAAmBC,WAE1D,uBAAKI,UAAU,eACb,gBAAC,EAAAQ,KAAD,CAAMC,GAAIV,EAASW,MAAOX,EAASY,QAGrC,uBAAKX,UAAU,eACb,wBAAMA,UAAU,WAAWD,EAASJ,mBAAmBiB,WAAvD,WAA2Eb,EAASJ,mBAAmBkB,OAAvG,YAEF,uBAAKb,UAAU,aACb,0CACA,0BACE,sBAAIA,UAAU,SAASD,EAASJ,mBAAmBmB,gBAGvD,uBAAKd,UAAU,cAAf,WACWD,EAASJ,mBAAmBoB,OADvC,UACsDhB,EAASJ,mBAAmBqB,OAKpF,uBAAKhB,UAAU,eACb,uBAAKA,UAAU,cAAf,eACA,uBAAKA,UAAU,eAEb,uBAAKA,UAAU,cACb,gBAAC,IAAD,CAAOG,IAAI,2EAA2Ec,IAAI,MAC1F,wBAAMjB,UAAU,OAAhB,WAGF,uBAAKA,UAAU,cACb,gBAAC,IAAD,CAAOG,IAAI,2EAA2Ec,IAAI,MAC1F,wBAAMjB,UAAU,OAAhB,UAGF,uBAAKA,UAAU,cACb,gBAAC,IAAD,CAAOG,IAAI,2EAA2Ec,IAAI,MAC1F,wBAAMjB,UAAU,OAAhB,eAKJ,uBAAKA,UAAU,eAAf,oBACA,uBAAKA,UAAU,aAAaD,EAASJ,mBAAmBuB,OACxD,uBAAKlB,UAAU,WAAf,cACA,uBAAKA,UAAU,aACb,gBAAC,EAAAQ,KAAD,CAAMR,UAAU,UAAUS,GAAIV,EAASW,MAAvC,uBAMZ,OACE,gBAAC,IAAD,CAAQS,UAAU,IAChB,gCAGE,uBAAKnB,UAAU,qBAEb,uBAAKA,UAAU,iBAAiBoB,MAAO,CAAEC,QAAS,SAGhD,gBAAC,IAAD,CACEC,cAAY,EACZF,MAAO,CAAEG,MAAO,IAAKC,MAAO,QAC5BC,YAAY,eACZC,SApJS,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAElBC,EAAclD,EAAQmD,MAAK,SAAUC,EAAGC,GAG1C,MAAiB,cAAVJ,EACHG,EAAEnC,mBAAmBiB,WAAamB,EAAEpC,mBAAmBiB,WACrD,GACC,EACHkB,EAAEnC,mBAAmBiB,WAAamB,EAAEpC,mBAAmBiB,WACrD,GACC,KAGTjC,GAAU,OAAIiD,MAwIJ,gBAACxD,EAAD,CAAQuD,MAAM,aAAd,eACA,gBAACvD,EAAD,CAAQuD,MAAM,aAAd,gBAGF,gBAAC,IAAD,CACEP,MAAO,CAAEG,MAAO,IAAKS,WAAY,OAAQR,MAAO,QAChDC,YAAY,YACZC,SAAU,SAACC,GAAD,OA1HQ,SAACA,GAGXhD,EAAR,QAAVgD,EAA4BrD,EAAKE,iBAAiBC,MAAmBH,EAAKE,iBAAiBC,MAAMwD,QAEjG,SAAuBC,GACrB,GAAIA,EAASvC,mBAAmBC,WAAa+B,EAC3C,OAAOO,MAmHoBC,CAAsBR,KAG3C,gBAACvD,EAAD,CAAQuD,MAAM,OAAd,OAEE7C,EAAYW,KAAI,SAAC2C,EAAMC,GAAP,OACd,gBAACjE,EAAD,CAAQ6B,IAAKoC,EAAGV,MAAOS,GACpBA,OAOT,gBAAC,IAAD,CACEhB,MAAO,CAAEY,WAAY,OAAQM,SAAU,QAASf,MAAO,OAAQC,MAAO,QAASe,aAAc,OAC7Fd,YAAY,2BACZC,SA1JU,SAACc,GACrB,IAAIC,EAAYD,EAAEE,OAAOf,MAErBgB,EAAeF,EAAUtD,OACvByD,EAAetE,EAAKE,iBAAiBC,MAAMwD,QAAO,SAAUY,GAEhE,OADAC,QAAQC,IAAI,WAAaF,EAAIlC,MAAMb,MAAM,EAAG6C,KAAkBF,GACvDI,EAAIlC,MAAMb,MAAM,EAAG6C,KAAkBF,KAI9C9D,EAAUiE,GACV/D,EAAc,IAiJJmE,YAAU,IAIZ,uBACE5B,MAAO,CAAEY,WAAY,OAAQiB,WAAY,MAAOC,SAAU,OAAQ1B,MAAO,QAASH,QAAS,SAD7F,yBAGyBhC,IAKhB,IAAVA,EAAc,gCACbQ,EAEA,gBAAC,IAAD,CACEuB,MAAO,CAAE+B,OAAQ,YAAa5B,MAAO,QACrC6B,eAAgB,EAEhBC,MAAOhE,EACPiE,SArJQ,EAsJRC,SAAU,IACVC,SAAU,IACVxE,UAAWA,EACX0C,SArJO,SAAC+B,GAClB5E,EAAc4E,EAAW,GACzBX,QAAQC,IAAI,QAAUnE,IAoJZoB,UAAU,qBAbC,KAgBJ,uBAAKA,UAAU,kBAAf","sources":["webpack://gatsby-starter-default/./src/pages/tour-packages.js"],"sourcesContent":["import * as React from \"react\"\nimport { useState, useEffect } from \"react\";\nimport { Select, Input, Pagination } from 'antd';\nimport { Link, graphql } from \"gatsby\"\nimport Layout from \"../components/layout\"\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Image from 'react-bootstrap/Image'\n\n\nconst { Option } = Select;\n\nconst TourPackages = ({ data }) => {\n  /*   console.log(data);*/\n  const [filters, setFilter] = useState(data.allWpTourpackage.nodes);\n  const [pageNumber, setPageNumber] = useState(0);\n  const [removedpost, setRemovedpost] = useState([]);\n\n\n  const handleChange = ({ value }) => {\n\n    let sortResults = filters.sort(function (a, b) {\n\n\n      return value === \"lowtohigh\"\n        ? a.tourPackageDetails.tripLength > b.tourPackageDetails.tripLength\n          ? 1\n          : -1\n        : a.tourPackageDetails.tripLength < b.tourPackageDetails.tripLength\n          ? 1\n          : -1;\n    });\n    // console.log(\"logsort\", sortResults);\n    setFilter([...sortResults]);\n\n    // console.log(filters);\n\n  }\n  // console.log(\"seachfilter1\", data);\n  const onChangeInput = (e) => {\n    let searchKey = e.target.value;\n\n    let searchLenght = searchKey.length;\n    const searchFilter = data.allWpTourpackage.nodes.filter(function (str) {\n      console.log(\"strtitle\", (str.title.slice(0, searchLenght) === searchKey));\n      return str.title.slice(0, searchLenght) === searchKey\n\n    });\n    // console.log(\"seachfilter2\", filters);\n    setFilter(searchFilter);\n    setPageNumber(0);\n\n  };\n\n  const categoryChangeHandler = (value) => {\n    // console.log(value);\n\n    value === \"all\" ? setFilter(data.allWpTourpackage.nodes) : setFilter(data.allWpTourpackage.nodes.filter(checkCategory));\n\n    function checkCategory(datatour) {\n      if (datatour.tourPackageDetails.tourType === value) {\n        return datatour;\n      }\n    }\n  };\n\n  const userPerPage = 2;\n\n  const pageCount = Math.ceil(data.allWpTourpackage.nodes.length / userPerPage);\n\n  const changePage = (selected) => {\n    setPageNumber(selected - 1);\n    console.log(\"page:\" + pageNumber);\n  };\n\n  const pageVisited = pageNumber * userPerPage;\n\n  const totel = filters.length;\n\n  useEffect(() => {\n    const newArr = new Set(data.allWpTourpackage.nodes.map((d) => d.tourPackageDetails.tourType));\n    // console.log(newArr);\n    setRemovedpost([...newArr]);\n  }, [data.allWpTourpackage.nodes]);\n\n  const displayUsers = filters\n    .slice(pageVisited, pageVisited + userPerPage).map(nodedata => (\n      <div className=\"col-md-12  col-lg-9\">\n        <div className=\"tour-block\" key={nodedata.id}>\n          <div className=\"tour-img-blk\">\n            <div className=\"tour-pkim\">\n              <Image src={nodedata.featuredImage.node.sourceUrl} />\n            </div>\n          </div>\n\n          <div className=\"tour-ctst\">\n            <div className=\"rio-tour\">\n              <div className=\"grop-hnm\">\n                <span className=\"tou-hmrt\">GROUP TOUR</span>\n                <span className=\"tou-hmr\">{nodedata.tourPackageDetails.gid}</span>\n              </div>\n              <div className=\"group-cat\">{nodedata.tourPackageDetails.tourType}</div>\n            </div>\n            <div className=\"heading-tor\">\n              <Link to={nodedata.slug}>{nodedata.title}</Link>\n\n            </div>\n            <div className=\"info-nugget\">\n              <span className=\"nug-get\">{nodedata.tourPackageDetails.tripLength} Days | {nodedata.tourPackageDetails.cities} Cities</span>\n            </div>\n            <div className=\"peri-yers\">\n              <h6>DESTINATIONS</h6>\n              <ul>\n                <li className=\"lh-20\">{nodedata.tourPackageDetails.destinations}</li>\n              </ul>\n            </div>\n            <div className=\"deprt-moth\">\n              Pickup: {nodedata.tourPackageDetails.pickup} Drop: {nodedata.tourPackageDetails.drop}\n            </div>\n          </div>\n\n\n          <div className=\"tour-Inclus\">\n            <div className=\"nugget-tlt\">Inclusions:</div>\n            <div className=\"info-nugget\">\n\n              <div className=\"high-light\">\n                <Image src=\"https://admin.ajaymodi.com/source/upload/facility/637723967785926825.svg\" alt=\"#\" />\n                <span className=\"mlt\">Hotels</span>\n              </div>\n\n              <div className=\"high-light\">\n                <Image src=\"https://admin.ajaymodi.com/source/upload/facility/637723967970298418.svg\" alt=\"#\" />\n                <span className=\"mlt\">Meals</span>\n              </div>\n\n              <div className=\"high-light\">\n                <Image src=\"https://admin.ajaymodi.com/source/upload/facility/637723968176009918.svg\" alt=\"#\" />\n                <span className=\"mlt\">Sightseen</span>\n              </div>\n\n\n            </div>\n            <div className=\"start-price\">SUPER DEAL PRICE</div>\n            <div className=\"ful-price\">{nodedata.tourPackageDetails.price}</div>\n            <div className=\"per-pes\">per person</div>\n            <div className=\"detal-enq\">\n              <Link className=\"inq-btn\" to={nodedata.slug}>View Details</Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    ))\n  return (\n    <Layout pageTitle=\"\">\n      <>\n       \n\n        <div className=\"center-align my-4\">\n\n          <div className=\"col-md-12 mb-4\" style={{ display: \"flex\" }}>\n\n\n            <Select\n              labelInValue\n              style={{ width: 175, float: \"left\" }}\n              placeholder=\"Select order\"\n              onChange={handleChange}\n            >\n              <Option value=\"lowtohigh\">Low to High</Option>\n              <Option value=\"hightolow\">High to Low</Option>\n            </Select>\n\n            <Select\n              style={{ width: 200, marginLeft: \"10px\", float: \"left\" }}\n              placeholder=\"Tour Type\"\n              onChange={(value) => categoryChangeHandler(value)}\n            >\n\n              <Option value=\"all\">All</Option>\n              {\n                removedpost.map((item, i) => (\n                  <Option key={i} value={item}>\n                    {item}\n                  </Option>\n                ))\n              }\n            </Select>\n\n\n            <Input\n              style={{ marginLeft: \"10px\", minWidth: \"200px\", width: \"auto\", float: \"right\", borderRadius: \"7px\" }}\n              placeholder=\"Search Images with Title\"\n              onChange={onChangeInput}\n\n              allowClear\n            // addonAfter={<SettingOutlined />}\n            />\n\n            <div\n              style={{ marginLeft: \"10px\", fontWeight: \"700\", fontSize: \"18px\", float: \"right\", display: \"flex\" }}\n            >\n              Total Tours Package : {totel}\n            </div>\n\n\n          </div>\n          {totel !== 0 ? <>{\n            displayUsers\n          }\n            <Pagination\n              style={{ margin: \"50px auto\", width: \"100%\" }}\n              defaultCurrent={1}\n              // pageSizeOptions={[3, 5, 10, 20]}\n              total={totel}\n              pageSize={userPerPage}\n              prevIcon={\"<\"}\n              nextIcon={\">\"}\n              pageCount={pageCount}\n              onChange={changePage}\n              className=\"pagination-class\"\n            // showSizeChanger={true}\n            // onShowSizeChange={}\n            /> </> : <div className=\"nosearchresult\">Data is Not Found !! Please search something else :)</div>}\n        </div>\n      </>\n    </Layout>\n  )\n}\nexport const query = graphql`\nquery {\n  allWpTourpackage {\n    totalCount\n                nodes {\n                  id\n                  title\n                  slug\n                      featuredImage {\n                        node {\n                          sourceUrl\n                        }\n                      }\n                      tourPackageDetails {\n                        cities\n                        drop\n                        pickup\n                        price\n                        tourType\n                        destinations\n                        inclusions\n                        tripLength\n                        gid\n                      }\n                }\n          }\n  }`\n\n\nexport default TourPackages"],"names":["Option","Select","data","useState","allWpTourpackage","nodes","filters","setFilter","pageNumber","setPageNumber","removedpost","setRemovedpost","pageCount","Math","ceil","length","pageVisited","totel","useEffect","newArr","Set","map","d","tourPackageDetails","tourType","displayUsers","slice","nodedata","className","key","id","src","featuredImage","node","sourceUrl","gid","Link","to","slug","title","tripLength","cities","destinations","pickup","drop","alt","price","pageTitle","style","display","labelInValue","width","float","placeholder","onChange","value","sortResults","sort","a","b","marginLeft","filter","datatour","categoryChangeHandler","item","i","minWidth","borderRadius","e","searchKey","target","searchLenght","searchFilter","str","console","log","allowClear","fontWeight","fontSize","margin","defaultCurrent","total","pageSize","prevIcon","nextIcon","selected"],"sourceRoot":""}